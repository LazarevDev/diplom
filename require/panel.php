<?php 
require_once('require/db.php');
require_once('functions/position.php');
require_once('functions/check_photo.php');
?>

<header>
    <div class="headerContainer">
        <div class="headerText">
            <h2>Учет продаж</h2>
            <span></span>
            <p>ООО “СтройДом”</p>
        </div>

        <div class="headerUser" id="headerUserActive" onclick="toggleMenu()">
            <div class="headerUserPhoto">
                <?=checkPhoto('staff', $resultStaff['id'], $resultStaff['photo'])?>
            </div>

            <div class="headerUserName">
                <h2><?=$resultStaff['name']?></h2>
                <p><?=position($resultStaff['role'])?></p>
            </div>

            <span>
                <svg width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.5 5.99999C5.3746 6.00059 5.25426 5.9504 5.16614 5.86077L0.126798 0.798177C-0.0466558 0.611171 -0.0415378 0.319755 0.138374 0.139013C0.318287 -0.0417294 0.608364 -0.0468711 0.794511 0.127383L5.5 4.85458L10.2055 0.127383C10.3916 -0.0468711 10.6817 -0.0417294 10.8616 0.139013C11.0415 0.319755 11.0467 0.611171 10.8732 0.798177L5.83386 5.86077C5.74574 5.9504 5.6254 6.00059 5.5 5.99999Z" fill="#999999"/>
                </svg>
            </span>
        </div>

        <div id="dropdownMenu" class="dropdownMenu hidden">
            <ul>
                <li><a href="/profile">
                    <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.58 14.71L15.82 15.85C16.0474 16.8356 15.8229 17.8713 15.2077 18.6742C14.5924 19.4771 13.6508 19.9633 12.64 20H3.36C2.34917 19.9633 1.40757 19.4771 0.792347 18.6742C0.177125 17.8713 -0.0474337 16.8356 0.18 15.85L0.42 14.71C0.696035 13.1668 2.02262 12.0327 3.59 12H12.41C13.9774 12.0327 15.304 13.1668 15.58 14.71ZM12.64 18.49C13.1478 18.4841 13.6257 18.2489 13.94 17.85V17.86C14.3257 17.3762 14.476 16.7458 14.35 16.14L14.11 15C13.9768 14.1552 13.2646 13.5226 12.41 13.49H3.59C2.73537 13.5226 2.02317 14.1552 1.89 15L1.65 16.14C1.52716 16.7426 1.67727 17.3687 2.06 17.85C2.37434 18.2489 2.85221 18.4841 3.36 18.49H12.64Z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.49998 10H7.49999C5.29085 10 3.49998 8.20915 3.49998 6.00001V3.36001C3.49732 2.46807 3.85046 1.61189 4.48116 0.981192C5.11186 0.350491 5.96804 -0.00265152 6.85999 1.49917e-05H9.13999C10.0319 -0.00265152 10.8881 0.350491 11.5188 0.981192C12.1495 1.61189 12.5027 2.46807 12.5 3.36001V6.00001C12.5 8.20915 10.7091 10 8.49998 10ZM6.85999 1.50002C5.83274 1.50002 4.99999 2.33277 4.99999 3.36001V6.00001C4.99999 7.38073 6.11927 8.50001 7.49999 8.50001H8.49998C9.8807 8.50001 11 7.38073 11 6.00001V3.36001C11 2.86671 10.804 2.39361 10.4552 2.0448C10.1064 1.69598 9.63329 1.50002 9.13999 1.50002H6.85999Z" />
                    </svg>

                    Профиль
                </a></li>
                <div class="dropdownMenuHr"></div>
                <li>
                    <a href="/logout">
                        <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.7501 0C16.3381 0.00538581 16.0055 0.338038 16.0001 0.75V2.75C16.0109 3.88044 15.5666 4.96773 14.7672 5.76711C13.9678 6.56649 12.8805 7.01079 11.7501 7H2.56007L7.28007 2.25C7.45096 1.94944 7.39424 1.57101 7.14275 1.33376C6.89126 1.0965 6.51018 1.06191 6.22007 1.25L0.220075 7.25C0.152284 7.31936 0.0980235 7.40075 0.0600746 7.49C-0.0200249 7.67504 -0.0200249 7.88496 0.0600746 8.07C0.0980235 8.15925 0.152284 8.24064 0.220075 8.31L6.22007 14.31C6.51289 14.6025 6.98726 14.6025 7.28007 14.31C7.57253 14.0172 7.57253 13.5428 7.28007 13.25L2.56007 8.5H11.7501C13.28 8.51622 14.752 7.91563 15.8338 6.83376C16.9157 5.75189 17.5163 4.27991 17.5001 2.75V0.75C17.4947 0.338038 17.162 0.00538581 16.7501 0Z"/>
                        </svg>

                        Выйти
                    </a>
                </li>
            </ul>
        </div>
    </div>
</header>

<menu>
    <div class="menuItem menuItemActive">
        <svg width="25" height="35" viewBox="0 0 25 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_8_16)">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.1562 2.67176C10.1562 1.19619 8.99031 0 7.55208 0H2.60417C1.16592 0 0 1.19619 0 2.67176V24.5802V32.3282C0 33.8039 1.16592 35 2.60417 35H10.1562H22.3958C23.8341 35 25 33.8039 25 32.3282V27.2519C25 25.7764 23.8341 24.5802 22.3958 24.5802H12.7604C11.3222 24.5802 10.1562 23.384 10.1562 21.9084V2.67176Z" fill="white"/>
                <path d="M22.3958 0H17.4479C16.0097 0 14.8438 1.19619 14.8438 2.67176V17.0992C14.8438 18.5748 16.0097 19.771 17.4479 19.771H22.3958C23.8341 19.771 25 18.5748 25 17.0992V2.67176C25 1.19619 23.8341 0 22.3958 0Z" fill="white"/>
            </g>
            <defs>
                <clipPath id="clip0_8_16">
                    <rect width="25" height="35" fill="white"/>
                </clipPath>
            </defs>
        </svg>
    </div>

    <a href="/" class="menuItem">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M18.29 5.00048L12.73 0.890479C11.1036 -0.296826 8.89636 -0.296826 7.27 0.890479L1.72 5.00048C0.645442 5.77462 0.00610336 7.01612 0 8.34048V15.7705C0.0600245 18.1637 2.04665 20.0564 4.44 20.0005H15.56C17.9534 20.0564 19.94 18.1637 20 15.7705V8.33048C19.9914 7.01184 19.3567 5.77576 18.29 5.00048ZM18.5 15.7705C18.4404 17.3354 17.1251 18.5568 15.56 18.5005H4.44C2.87698 18.5512 1.56502 17.333 1.5 15.7705V8.34048C1.50534 7.4904 1.91817 6.69448 2.61 6.20048L8.16 2.10048C9.25609 1.30006 10.7439 1.30006 11.84 2.10048L17.39 6.21048C18.0812 6.6959 18.4948 7.48584 18.5 8.33048V15.7705ZM5.5 13.7505H14.5C14.9142 13.7505 15.25 14.0863 15.25 14.5005C15.25 14.9147 14.9142 15.2505 14.5 15.2505H5.5C5.08579 15.2505 4.75 14.9147 4.75 14.5005C4.75 14.0863 5.08579 13.7505 5.5 13.7505Z" fill="white"/>
        </svg>
    </a>

    <a href="clientele" class="menuItem">
        <svg width="20" viewBox="0 0 23 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M15 3.76003C14.9673 5.39341 13.6337 6.70036 12 6.70003C10.3858 6.67344 9.08207 5.37416 9.05 3.76003V2.63003C9.04981 1.96442 9.31826 1.3269 9.79453 0.861918C10.2708 0.396939 10.9146 0.143863 11.58 0.160032H12.52C13.1768 0.157372 13.8076 0.416429 14.273 0.879933C14.7384 1.34344 15 1.97321 15 2.63003V3.76003ZM11.55 1.63003C10.9977 1.63003 10.55 2.07775 10.55 2.63003L10.59 3.76003C10.59 4.56084 11.2392 5.21003 12.04 5.21003C12.8408 5.21003 13.49 4.56084 13.49 3.76003V2.63003C13.49 2.07775 13.0423 1.63003 12.49 1.63003H11.55Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M22.48 10.3L22.59 11.86C22.7056 12.3483 22.5927 12.8625 22.2834 13.2575C21.974 13.6525 21.5017 13.8853 21 13.89H16.51C16.1183 14.3076 15.5725 14.5461 15 14.55H9C8.39859 14.5581 7.82285 14.3067 7.42 13.86C7.32696 13.8704 7.23305 13.8704 7.14001 13.86H2.55C2.06198 13.8416 1.60718 13.608 1.30802 13.2219C1.00885 12.8359 0.896064 12.3372 1 11.86L1.15 10.3C1.29593 9.55567 1.94161 9.01413 2.7 9.00003H7C7.17949 8.99008 7.35926 9.01382 7.53 9.07003C7.91366 8.5908 8.49615 8.3143 9.11001 8.32003H14.89C15.4679 8.31788 16.0186 8.56584 16.4 9.00003C16.4697 8.99018 16.5404 8.99018 16.61 9.00003H20.93C21.6884 9.01413 22.3341 9.55567 22.48 10.3ZM16.55 12.36H21.08C21.1106 12.3011 21.1143 12.2318 21.09 12.17V11.97L20.99 10.55L20.93 10.47H16.4C15.9773 10.4716 15.5737 10.2934 15.29 9.98003C15.1908 9.86136 15.0447 9.79196 14.89 9.79003H9.11001C8.94248 9.79218 8.78471 9.86923 8.68001 10C8.39455 10.3389 7.97308 10.5331 7.53001 10.53C7.34858 10.5309 7.16866 10.4969 7.00001 10.43H2.75001C2.69001 10.43 2.69001 10.45 2.69001 10.51L2.59001 11.93V12.13C2.56263 12.1904 2.56263 12.2597 2.59001 12.32H7.18001C7.28645 12.3103 7.39357 12.3103 7.50001 12.32C7.9064 12.3276 8.29097 12.5053 8.56001 12.81C8.67034 12.9392 8.83023 13.0155 9.00001 13.02H15.04C15.2101 13.0167 15.3705 12.9402 15.48 12.81C15.7612 12.5216 16.1472 12.3592 16.55 12.36Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M20.97 5.26003C20.97 6.47506 19.985 7.46003 18.77 7.46003C18.1848 7.46269 17.6226 7.23208 17.2079 6.81921C16.7932 6.40634 16.56 5.84524 16.56 5.26003V4.42003C16.56 3.92938 16.7549 3.45883 17.1019 3.11188C17.4488 2.76494 17.9194 2.57003 18.41 2.57003H19.12C20.1417 2.57003 20.97 3.3983 20.97 4.42003V5.26003ZM18.1625 4.21254C18.0969 4.27818 18.06 4.36721 18.06 4.46003V5.30003C18.1026 5.65709 18.4054 5.92592 18.765 5.92592C19.1246 5.92592 19.4274 5.65709 19.47 5.30003V4.46003C19.47 4.26673 19.3133 4.11003 19.12 4.11003H18.41C18.3172 4.11003 18.2282 4.14691 18.1625 4.21254Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.42211 6.81921C6.00737 7.23208 5.44521 7.46269 4.86001 7.46003C4.27653 7.46003 3.71695 7.22825 3.30437 6.81567C2.89179 6.40309 2.66001 5.84351 2.66001 5.26003V4.42003C2.66001 3.3983 3.48828 2.57003 4.51001 2.57003H5.22001C6.24173 2.57003 7.07001 3.3983 7.07001 4.42003V5.26003C7.07001 5.84524 6.83685 6.40634 6.42211 6.81921ZM4.51001 4.11003C4.31671 4.11003 4.16001 4.26673 4.16001 4.46003V5.30003C4.20261 5.65709 4.50542 5.92592 4.86501 5.92592C5.2246 5.92592 5.52741 5.65709 5.57001 5.30003V4.46003C5.57001 4.26673 5.41331 4.11003 5.22001 4.11003H4.51001Z" fill="white"/>
        </svg>

    </a>

    <a href="accounting" class="menuItem">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 0.5H13.5C16.8137 0.5 19.5 3.18629 19.5 6.5V13.5C19.5 16.8137 16.8137 19.5 13.5 19.5H6.5C3.18629 19.5 0.5 16.8137 0.5 13.5V6.5C0.5 3.18629 3.18629 0.5 6.5 0.5ZM13.5 18C15.983 17.9945 17.9945 15.983 18 13.5V6.5C17.9945 4.017 15.983 2.0055 13.5 2H6.5C4.017 2.0055 2.0055 4.017 2 6.5V13.5C2.0055 15.983 4.017 17.9945 6.5 18H13.5Z" fill="white"/>
            <path d="M13.18 5C12.768 5.00539 12.4354 5.33804 12.43 5.75C12.4196 6.38126 12.1567 6.98203 11.7 7.41801C11.2434 7.85398 10.6311 8.08881 10 8.07C8.70017 8.1093 7.61349 7.0897 7.57 5.79C7.57 5.37579 7.23421 5.04 6.82 5.04C6.40579 5.04 6.07 5.37579 6.07 5.79C6.11376 7.91804 7.87187 9.60905 10 9.57C12.1281 9.60905 13.8862 7.91804 13.93 5.79C13.941 5.58425 13.8668 5.38304 13.725 5.23362C13.5831 5.08419 13.386 4.99971 13.18 5Z"  fill="white"/>
        </svg>
    </a>

    <a href="staff" class="menuItem">
        <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.74 11.7399L19.88 12.4299C20.0324 13.0194 19.9081 13.6462 19.5422 14.1328C19.1762 14.6194 18.6086 14.9128 18 14.9299H14.19C14.1909 16.5485 12.9077 17.876 11.29 17.9299H2.99998C2.08452 17.9148 1.2261 17.4824 0.668992 16.7558C0.111879 16.0292 -0.0829354 15.088 0.139983 14.1999L0.349983 13.1999C0.594168 11.8224 1.78112 10.8116 3.17998 10.7899H11.12C11.4743 10.3664 11.9978 10.1212 12.55 10.1199H17.84C18.774 10.1497 19.5629 10.8224 19.74 11.7399ZM17.98 13.4199C18.102 13.4154 18.2156 13.3568 18.29 13.2599C18.4208 13.128 18.4866 12.945 18.47 12.7599L18.33 12.0699C18.3029 11.8464 18.1241 11.6718 17.9 11.6499H12.61C12.4949 11.6507 12.3871 11.7065 12.32 11.7999C12.0332 12.1302 11.6174 12.3199 11.18 12.3199H3.23998C2.5554 12.3366 1.98177 12.8428 1.87998 13.5199L1.66998 14.5199C1.56741 15.0125 1.68825 15.5251 1.99998 15.9199C2.24348 16.227 2.60842 16.4132 2.99998 16.4299H11.26C12.0648 16.3765 12.6833 15.6962 12.66 14.8899C12.6763 14.0733 13.3431 13.4198 14.16 13.4199H17.98Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1 4.99995C11.1 7.20909 9.30912 8.99995 7.09998 8.99995C4.89084 8.99995 3.09998 7.20909 3.09998 4.99995V3.42995C3.09998 1.57427 4.6043 0.0699463 6.45998 0.0699463H7.76998C9.61393 0.0864108 11.1001 1.58592 11.1 3.42995V4.99995ZM6.45998 1.56995C5.43273 1.56995 4.59998 2.4027 4.59998 3.42995L4.62998 4.99995C4.78957 6.25912 5.86073 7.20309 7.12998 7.20309C8.39923 7.20309 9.47039 6.25912 9.62998 4.99995V3.42995C9.62998 2.4027 8.79723 1.56995 7.76998 1.56995H6.45998Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M18.68 5.24995C18.68 6.9068 17.3368 8.24995 15.68 8.24995C14.0231 8.24995 12.68 6.9068 12.68 5.24995V4.09995C12.6798 2.72366 13.7839 1.60179 15.16 1.57995H16.16C17.5517 1.57995 18.68 2.70819 18.68 4.09995V5.24995ZM15.18 3.09995C14.6277 3.09995 14.18 3.54766 14.18 4.09995V5.24995C14.18 6.07837 14.8516 6.74995 15.68 6.74995C16.5084 6.74995 17.18 6.07837 17.18 5.24995V4.09995C17.18 3.54766 16.7323 3.09995 16.18 3.09995H15.18Z" fill="white"/>
        </svg>
    </a>

    <a href="" class="menuItem">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.5794 7.0802C6.40783 7.0802 7.0794 6.40863 7.0794 5.5802C7.0794 4.75178 6.40783 4.0802 5.5794 4.0802C4.75098 4.0802 4.0794 4.75178 4.0794 5.5802C4.0794 6.40863 4.75098 7.0802 5.5794 7.0802Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.1594 0.0202045H9.0794L3.0794 0.450205C1.68196 0.575248 0.574445 1.68276 0.449402 3.0802L0.00940196 9.0802C-0.0458447 9.63229 0.144294 10.1808 0.529402 10.5802L8.9694 19.0202C9.32589 19.3636 9.80454 19.5507 10.2994 19.5402C11.0565 19.5336 11.7784 19.2196 12.2994 18.6702L18.6694 12.3102C19.6589 11.4899 19.8142 10.0303 19.0194 9.0202L10.5294 0.520205C10.1711 0.17961 9.69368 -0.00706309 9.1994 0.00020452L9.1594 0.0202045ZM9.1994 1.6302C9.25799 1.61178 9.32082 1.61178 9.3794 1.6302L17.8294 10.0802C17.9111 10.455 17.7713 10.8435 17.4694 11.0802L11.0794 17.4702C10.8689 17.6986 10.5792 17.8381 10.2694 17.8602H10.0994L1.6794 9.3702C1.65251 9.29934 1.65251 9.22107 1.6794 9.1502L2.1194 3.1502C2.1979 2.60602 2.61767 2.17415 3.1594 2.0802L9.1594 1.6502L9.1994 1.6302Z" fill="white"/>
        </svg>
    </a>
</menu>

<script>
    document.addEventListener('click', function(event) {
        var menu = document.getElementById('dropdownMenu');
        var headerUser = document.querySelector('.headerUser');

        if (!headerUser.contains(event.target) && !menu.contains(event.target)) {
            menu.classList.add('hidden');
            headerUserActive.classList.remove('headerUserActive')
        }
    });

    function toggleMenu() {
        var menu = document.getElementById('dropdownMenu');
        var headerUserActive =document.getElementById('headerUserActive');
        
        if (menu.classList.contains('hidden')) {
            menu.classList.remove('hidden');
            headerUserActive.classList.add('headerUserActive')
        } else {
            headerUserActive.classList.remove('headerUserActive')
            menu.classList.add('hidden');
        }
    }
</script>