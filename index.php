<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/panel.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/chart.js"></script>
    <title>Главная</title>
</head>
<body>

    <?php require_once('require/panel.php'); ?>

    <div class="container">
        <div class="pageTitle">
            <h1>Аналитика</h1>
        </div>
        
        <div class="content contentWhite">
            <div class="contentTitle">
                <h2>Статистика продаж за месяц</h2>
            </div>

            <div class="spaceBetween salesContainer">
                <div class="saleData">
                    <div class="saleDataTitle">
                        <h2>Оборот</h2>
                        <p>8,545,400 Руб</p>
                    </div>
                    
                    <ul>
                        <li>Расходы на товар: 346,000</li>
                        <li>Расходы на сотрудников: 345,000</li>
                        <li>Чистая прибыль: 8,999,999</li>
                    </ul>
                </div>
                <div class="doughnutChart">
                    <canvas id="myDoughnutChart"></canvas>
                </div>
            </div>
          
            <div class="contentTitle" style="margin-top: 60px;">
                <h2>Статистика сотрудников за месяц </h2>
            </div>

            <div class="spaceBetween barChartContainer">
                <div class="barChart">
                    <canvas id="myBarChart"></canvas>
                </div>

                <div class="barTable">
                    <table border="1">
                        <tr>
                            <th>Фамилия имя</th>
                            <th>Должность</th>
                            <th>Оборот</th>
                            <th>Действия</th>
                        </tr>

                        <tr>
                            <td>
                                <div class="userTable">
                                    <div class="userTableImg">
                                        <img src="img/users/item.png" alt="">
                                    </div>

                                    <div class="userTableName">
                                        <h2>Имя Фамилия</h2>
                                        <p>lazarev.w3b</p>
                                    </div>
                                </div>
                            </td>
                            <td>Менеджер</td>
                            <td>24.000 Руб</td>
                            <td>
                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 13 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.02361 0.21934L12.7833 6.03934C13.0722 6.33216 13.0722 6.80652 12.7833 7.09934C12.6457 7.24229 12.4569 7.32291 12.2597 7.32291C12.0625 7.32291 11.8737 7.24229 11.7361 7.09934L7.24096 2.55934V13.7893C7.24096 14.2036 6.90922 14.5393 6.5 14.5393C6.09078 14.5393 5.75904 14.2036 5.75904 13.7893V2.55934L1.26391 7.09934C1.12636 7.24195 0.937192 7.32143 0.740304 7.31934C0.543638 7.32028 0.354892 7.24098 0.216695 7.09934C-0.0722317 6.80652 -0.0722317 6.33216 0.216695 6.03934L5.97639 0.21934C6.26568 -0.0731134 6.73432 -0.0731134 7.02361 0.21934Z"/>
                                        <path d="M1.5603 16.0793H11.4397C11.8489 16.0793 12.1807 16.4151 12.1807 16.8293C12.1807 17.2436 11.8489 17.5793 11.4397 17.5793H1.5603C1.15108 17.5793 0.819341 17.2436 0.819341 16.8293C0.819341 16.4151 1.15108 16.0793 1.5603 16.0793Z" />
                                    </svg>
                                </a>

                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.7784 5C6.7784 3.91972 7.77305 3.04398 9 3.04398C10.227 3.04398 11.2216 3.91972 11.2216 5C11.2216 6.08028 10.227 6.95602 9 6.95602C7.77305 6.95602 6.7784 6.08028 6.7784 5ZM8.22727 5C8.22727 5.37575 8.57323 5.68035 9 5.68035C9.42677 5.68035 9.77273 5.37575 9.77273 5C9.77273 4.62425 9.42677 4.31965 9 4.31965C8.57323 4.31965 8.22727 4.62425 8.22727 5Z"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5495 1.40263L17.587 4.24311C17.848 4.4271 18 4.70557 18 5C18 5.29443 17.848 5.5729 17.587 5.75689L13.5495 8.59737C10.8884 10.4675 7.11162 10.4675 4.45055 8.59737L0.413034 5.75689C0.151963 5.5729 0 5.29443 0 5C0 4.70557 0.151963 4.4271 0.413034 4.24311L4.45055 1.40263C7.11162 -0.467542 10.8884 -0.467542 13.5495 1.40263ZM5.34885 7.64488C7.48584 9.14237 10.5142 9.14237 12.6511 7.64488L16.3409 5L12.6511 2.39764C10.5142 0.900148 7.48584 0.900148 5.34885 2.39764L1.65906 5L5.34885 7.64488Z"/>
                                    </svg>
                                </a>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="userTable">
                                    <div class="userTableImg">
                                        <img src="img/users/item.png" alt="">
                                    </div>

                                    <div class="userTableName">
                                        <h2>Имя Фамилия</h2>
                                        <p>lazarev.w3b</p>
                                    </div>
                                </div>
                            </td>
                            <td>Менеджер</td>
                            <td>24.000 Руб</td>
                            <td>
                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 13 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.02361 0.21934L12.7833 6.03934C13.0722 6.33216 13.0722 6.80652 12.7833 7.09934C12.6457 7.24229 12.4569 7.32291 12.2597 7.32291C12.0625 7.32291 11.8737 7.24229 11.7361 7.09934L7.24096 2.55934V13.7893C7.24096 14.2036 6.90922 14.5393 6.5 14.5393C6.09078 14.5393 5.75904 14.2036 5.75904 13.7893V2.55934L1.26391 7.09934C1.12636 7.24195 0.937192 7.32143 0.740304 7.31934C0.543638 7.32028 0.354892 7.24098 0.216695 7.09934C-0.0722317 6.80652 -0.0722317 6.33216 0.216695 6.03934L5.97639 0.21934C6.26568 -0.0731134 6.73432 -0.0731134 7.02361 0.21934Z"/>
                                        <path d="M1.5603 16.0793H11.4397C11.8489 16.0793 12.1807 16.4151 12.1807 16.8293C12.1807 17.2436 11.8489 17.5793 11.4397 17.5793H1.5603C1.15108 17.5793 0.819341 17.2436 0.819341 16.8293C0.819341 16.4151 1.15108 16.0793 1.5603 16.0793Z" />
                                    </svg>
                                </a>

                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.7784 5C6.7784 3.91972 7.77305 3.04398 9 3.04398C10.227 3.04398 11.2216 3.91972 11.2216 5C11.2216 6.08028 10.227 6.95602 9 6.95602C7.77305 6.95602 6.7784 6.08028 6.7784 5ZM8.22727 5C8.22727 5.37575 8.57323 5.68035 9 5.68035C9.42677 5.68035 9.77273 5.37575 9.77273 5C9.77273 4.62425 9.42677 4.31965 9 4.31965C8.57323 4.31965 8.22727 4.62425 8.22727 5Z"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5495 1.40263L17.587 4.24311C17.848 4.4271 18 4.70557 18 5C18 5.29443 17.848 5.5729 17.587 5.75689L13.5495 8.59737C10.8884 10.4675 7.11162 10.4675 4.45055 8.59737L0.413034 5.75689C0.151963 5.5729 0 5.29443 0 5C0 4.70557 0.151963 4.4271 0.413034 4.24311L4.45055 1.40263C7.11162 -0.467542 10.8884 -0.467542 13.5495 1.40263ZM5.34885 7.64488C7.48584 9.14237 10.5142 9.14237 12.6511 7.64488L16.3409 5L12.6511 2.39764C10.5142 0.900148 7.48584 0.900148 5.34885 2.39764L1.65906 5L5.34885 7.64488Z"/>
                                    </svg>
                                </a>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="userTable">
                                    <div class="userTableImg">
                                        <img src="img/users/item.png" alt="">
                                    </div>

                                    <div class="userTableName">
                                        <h2>Имя Фамилия</h2>
                                        <p>lazarev.w3b</p>
                                    </div>
                                </div>
                            </td>
                            <td>Менеджер</td>
                            <td>24.000 Руб</td>
                            <td>
                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 13 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.02361 0.21934L12.7833 6.03934C13.0722 6.33216 13.0722 6.80652 12.7833 7.09934C12.6457 7.24229 12.4569 7.32291 12.2597 7.32291C12.0625 7.32291 11.8737 7.24229 11.7361 7.09934L7.24096 2.55934V13.7893C7.24096 14.2036 6.90922 14.5393 6.5 14.5393C6.09078 14.5393 5.75904 14.2036 5.75904 13.7893V2.55934L1.26391 7.09934C1.12636 7.24195 0.937192 7.32143 0.740304 7.31934C0.543638 7.32028 0.354892 7.24098 0.216695 7.09934C-0.0722317 6.80652 -0.0722317 6.33216 0.216695 6.03934L5.97639 0.21934C6.26568 -0.0731134 6.73432 -0.0731134 7.02361 0.21934Z"/>
                                        <path d="M1.5603 16.0793H11.4397C11.8489 16.0793 12.1807 16.4151 12.1807 16.8293C12.1807 17.2436 11.8489 17.5793 11.4397 17.5793H1.5603C1.15108 17.5793 0.819341 17.2436 0.819341 16.8293C0.819341 16.4151 1.15108 16.0793 1.5603 16.0793Z" />
                                    </svg>
                                </a>

                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.7784 5C6.7784 3.91972 7.77305 3.04398 9 3.04398C10.227 3.04398 11.2216 3.91972 11.2216 5C11.2216 6.08028 10.227 6.95602 9 6.95602C7.77305 6.95602 6.7784 6.08028 6.7784 5ZM8.22727 5C8.22727 5.37575 8.57323 5.68035 9 5.68035C9.42677 5.68035 9.77273 5.37575 9.77273 5C9.77273 4.62425 9.42677 4.31965 9 4.31965C8.57323 4.31965 8.22727 4.62425 8.22727 5Z"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5495 1.40263L17.587 4.24311C17.848 4.4271 18 4.70557 18 5C18 5.29443 17.848 5.5729 17.587 5.75689L13.5495 8.59737C10.8884 10.4675 7.11162 10.4675 4.45055 8.59737L0.413034 5.75689C0.151963 5.5729 0 5.29443 0 5C0 4.70557 0.151963 4.4271 0.413034 4.24311L4.45055 1.40263C7.11162 -0.467542 10.8884 -0.467542 13.5495 1.40263ZM5.34885 7.64488C7.48584 9.14237 10.5142 9.14237 12.6511 7.64488L16.3409 5L12.6511 2.39764C10.5142 0.900148 7.48584 0.900148 5.34885 2.39764L1.65906 5L5.34885 7.64488Z"/>
                                    </svg>
                                </a>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="userTable">
                                    <div class="userTableImg">
                                        <img src="img/users/item.png" alt="">
                                    </div>

                                    <div class="userTableName">
                                        <h2>Имя Фамилия</h2>
                                        <p>lazarev.w3b</p>
                                    </div>
                                </div>
                            </td>
                            <td>Менеджер</td>
                            <td>24.000 Руб</td>
                            <td>
                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 13 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.02361 0.21934L12.7833 6.03934C13.0722 6.33216 13.0722 6.80652 12.7833 7.09934C12.6457 7.24229 12.4569 7.32291 12.2597 7.32291C12.0625 7.32291 11.8737 7.24229 11.7361 7.09934L7.24096 2.55934V13.7893C7.24096 14.2036 6.90922 14.5393 6.5 14.5393C6.09078 14.5393 5.75904 14.2036 5.75904 13.7893V2.55934L1.26391 7.09934C1.12636 7.24195 0.937192 7.32143 0.740304 7.31934C0.543638 7.32028 0.354892 7.24098 0.216695 7.09934C-0.0722317 6.80652 -0.0722317 6.33216 0.216695 6.03934L5.97639 0.21934C6.26568 -0.0731134 6.73432 -0.0731134 7.02361 0.21934Z"/>
                                        <path d="M1.5603 16.0793H11.4397C11.8489 16.0793 12.1807 16.4151 12.1807 16.8293C12.1807 17.2436 11.8489 17.5793 11.4397 17.5793H1.5603C1.15108 17.5793 0.819341 17.2436 0.819341 16.8293C0.819341 16.4151 1.15108 16.0793 1.5603 16.0793Z" />
                                    </svg>
                                </a>

                                <a href="#" class="tdAction">
                                    <svg viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.7784 5C6.7784 3.91972 7.77305 3.04398 9 3.04398C10.227 3.04398 11.2216 3.91972 11.2216 5C11.2216 6.08028 10.227 6.95602 9 6.95602C7.77305 6.95602 6.7784 6.08028 6.7784 5ZM8.22727 5C8.22727 5.37575 8.57323 5.68035 9 5.68035C9.42677 5.68035 9.77273 5.37575 9.77273 5C9.77273 4.62425 9.42677 4.31965 9 4.31965C8.57323 4.31965 8.22727 4.62425 8.22727 5Z"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5495 1.40263L17.587 4.24311C17.848 4.4271 18 4.70557 18 5C18 5.29443 17.848 5.5729 17.587 5.75689L13.5495 8.59737C10.8884 10.4675 7.11162 10.4675 4.45055 8.59737L0.413034 5.75689C0.151963 5.5729 0 5.29443 0 5C0 4.70557 0.151963 4.4271 0.413034 4.24311L4.45055 1.40263C7.11162 -0.467542 10.8884 -0.467542 13.5495 1.40263ZM5.34885 7.64488C7.48584 9.14237 10.5142 9.14237 12.6511 7.64488L16.3409 5L12.6511 2.39764C10.5142 0.900148 7.48584 0.900148 5.34885 2.39764L1.65906 5L5.34885 7.64488Z"/>
                                    </svg>
                                </a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Плагин для отображения текста в центре пончикового графика
        const centerTextPlugin = {
            id: 'centerText',
            afterDatasetsDraw(chart, args, options) {
                if (chart.config.type === 'doughnut') {
                    const { ctx, chartArea: { width, height } } = chart;
                    ctx.save();
                    ctx.font = 'bold 20px Roboto';
                    ctx.fillStyle = '#FF8A00';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('Оборот', width / 2, height / 2 - 10);
                    ctx.font = 'bold 16px Roboto';
                    ctx.fillText('18,999,999', width / 2, height / 2 + 10);
                    ctx.restore();
                }
            }
        };

        Chart.register(centerTextPlugin);

        // Пончиковый график
        const ctxDoughnut = document.getElementById('myDoughnutChart').getContext('2d');
        const dataDoughnut = {
            labels: [
                'Расходы на товар',
                'Расходы на сотрудников',
                'Чистая прибыль'
            ],
            datasets: [{
                label: 'Данные',
                data: [346000, 345000, 8999999],
                backgroundColor: [
                    '#e66f00',
                    '#e68200',
                    '#FF8A00',
                ],
                borderWidth: 1
            }]
        };
        const configDoughnut = {
            type: 'doughnut',
            data: dataDoughnut,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                        display: false,
                    },
                    tooltip: {
                        enabled: true
                    },
                    centerText: {
                        display: true
                    }
                }
            }
        };
        const myDoughnutChart = new Chart(ctxDoughnut, configDoughnut);

        // Гистограмма
        const ctxBar = document.getElementById('myBarChart').getContext('2d');
        const dataBar = {
            labels: ['Иван Иванов', 'Петр Петров', 'Сергей Сергеев', 'Алексей Алексеев', 'Мария Мариева'],
            datasets: [{
                label: 'Цена',
                data: [450, 18000, 12000, 24000, 8000],
                backgroundColor: '#FF8A00',
                borderWidth: 1
            }]
        };
        const configBar = {
            type: 'bar',
            data: dataBar,
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: true
                    }
                }
            }
        };
        const myBarChart = new Chart(ctxBar, configBar);
    </script>

</body>
</html>